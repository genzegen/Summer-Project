{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BYR3D | Contact Us</title>
    <link rel="stylesheet" href="{% static "css/contact.css" %}">
    <script type="module" src="{% static 'js/three.js-master/build/three.module.js' %}"></script>
</head>
<body>
    <canvas id="particleCanvas"></canvas>
    <div class="main">
        <div class="top">
            <div class="main-logo">
                <img src="{% static 'images/logo.png' %}" style="height: 60px; width: auto;">
            </div>
            <h1>Contact Us</h1>
        </div>
        <div class="bottom">
            <div class="left">
                <div class="left-container">
                    <div class="icon">
                        <img src="{% static "images/address.png" %}" alt="">
                    </div>
                    <div class="icon-details">
                        <h3>Address</h3>
                        <p>Chhetrapati, Dhalko</br>Kathmandu, Nepal</p>
                    </div>
                </div>
                <div class="left-container">
                    <div class="icon">
                        <img src="{% static "images/phone.png" %}" alt="">
                    </div>
                    <div class="icon-details">
                        <h3>Phone</h3>
                        <p>01-4892969, +977-9808586969</p>
                    </div>
                </div>
                <div class="left-container">
                    <div class="icon">
                        <img src="{% static "images/mail.png" %}" alt="">
                    </div>
                    <div class="icon-details">
                        <h3>Email</h3>
                        <p>byr3dbusiness@mail.com</p>
                    </div>
                </div>
                
            </div>
            <div class="right">
                <div class="form-toggle">
                    <button id="contactButton" class="active" onclick="toggleForm('contact')">Send a Message</button>
                    <button id="requestButton" onclick="toggleForm('request_model')">Request a Model</button>
                </div>
                <form id="contactForm" method="post" class="message-form" style="display: flex;">
                    {% csrf_token %}
                    <h2>Send a Message</h2>
                    <input type="hidden" name="message_type" value="contact">
                    <input type="text" name="name" placeholder="Full Name" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <textarea name="message" rows="4" placeholder="Enter Your Message" required></textarea>
                    <input type="submit" value="Send">
                </form>
                
                <form id="requestModelForm" method="post" class="message-form" style="display:none;">
                    {% csrf_token %}
                    <h2>Request a Model</h2>
                    <input type="hidden" name="message_type" value="request_model">
                    <input type="text" name="name" placeholder="Full Name" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <textarea name="message" rows="4" placeholder="Describe the Model You Need" required></textarea>
                    <input type="submit" value="Request Model">
                </form>
                {% if messages %}
                    <div id="message-container">
                        {% for message in messages %}
                            <p class="message">{{ message }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    <script>
        setTimeout(function() {
            let messageContainer = document.getElementById("message-container");
            if (messageContainer) {
                messageContainer.style.transition = "opacity 0.5s ease-out";
                messageContainer.style.opacity = "0";
                setTimeout(() => messageContainer.remove(), 500); // Remove it from DOM
            }
        }, 3000);

        function toggleForm(formType) {
            // Hide both forms initially
            document.getElementById('contactForm').style.display = 'none';
            document.getElementById('requestModelForm').style.display = 'none';

            // Show the selected form
            if (formType === 'contact') {
                document.getElementById('contactForm').style.display = 'flex';
                document.getElementById('contactButton').classList.add('active');
                document.getElementById('requestButton').classList.remove('active');
            } else if (formType === 'request_model') {
                document.getElementById('requestModelForm').style.display = 'flex';
                document.getElementById('requestButton').classList.add('active');
                document.getElementById('contactButton').classList.remove('active');
            }
        }
    </script>
    <script type="module" src="{% static 'js/home.js' %}"></script>
</body>
</html>